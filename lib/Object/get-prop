#!/usr/bin/perl -w
use strict;
use ThinObject;
my $ob = shift;
my $prop = shift;
my $index1 = shift; # 1-based index into property
$ob = ThinObject->new($ob);
if ( defined $prop ) {
    my @value = $ob->get_property($prop);
    exit unless @value;
    if ( defined $index1 ) {
        print $value[$index1 - 1], "\n";
        }
    else {
        print "$_\n" foreach @value;
        }
    }
else {
    foreach $prop ( $ob->get_property() ) {
        print "$prop\n";
        }
    }
